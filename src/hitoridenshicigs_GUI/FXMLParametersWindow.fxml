<!--
 Copyright (C) 2020 Alban Lafuente

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.
 
 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.
 
 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.-->

<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import java.net.URL?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ChoiceBox?>

<VBox fx:controller="hitoridenshicigs_GUI.FXMLParametersWindowController" xmlns:fx="http://javafx.com/fxml/1"
      styleClass="vbox" fx:id="parameterbox">
    
    <stylesheets>
        <URL value="@WindowStyle.css" />
    </stylesheets>
    
    <fx:define>
        <ToggleGroup fx:id="particleselection"/>
        <ToggleGroup fx:id="zeroselection"/>
    </fx:define>
    
    <HBox styleClass="hbox">
        <Label styleClass="windowtext" text="Bias voltages (V, separated by ;): "/>
        <TextField styleClass="inputfield" fx:id="biasvoltages" text="0.8" prefWidth="300"/>
    </HBox>
    
    <VBox>
        <Label styleClass="windowtext" text="Abscissa unit:"/>
        <ChoiceBox fx:id="unitselec" value="μm" onAction="#applyNewSelection" onShowing="#savePreviousSelection">
            <items>
                <FXCollections fx:factory="observableArrayList">
                    <String fx:value="μm" />
                    <String fx:value="nm" />
                </FXCollections>
            </items>    
        </ChoiceBox>
    </VBox>
    
    <HBox styleClass="hbox" prefWidth="500">
        <Label styleClass="windowtext" text="Notch positions in the absorber (μm, separated by ';'): " fx:id="notchlabel"/>
        <TextField styleClass="inputfield" fx:id="notches" text="1.8" prefWidth="300"/>
    </HBox>
    
    <HBox styleClass="hbox" prefWidth="500">
        <Label styleClass="windowtext" text="Generation positions (μm, separated by ';'): " fx:id="generationlabel"/>
        <TextField styleClass="inputfield" fx:id="generationpositions" text="1" prefWidth="300"/>
    </HBox>
    
    <HBox styleClass="hbox" prefWidth="500">
        <Label styleClass="windowtext" text="Sample width (μm): " fx:id="samplewidthlabel"/>
        <TextField styleClass="inputfield" fx:id="samplewidth" text="2.5"/>
        <Label styleClass="windowtext" text="Buffer+window width (μm): " fx:id="bufferwindowlabel"/>
        <TextField styleClass="inputfield" fx:id="bufferwindowwidth" text="0.5"/>
    </HBox>
    
    <HBox styleClass="hbox" prefWidth="500">
        <Label styleClass="windowtext" text="Front bandgap (eV): "/>
        <TextField styleClass="inputfield" fx:id="frontbangap" text="1.3"/>
        <Label styleClass="windowtext" text="Minimum bandgap (eV): "/>
        <TextField styleClass="inputfield" fx:id="notchbandgap" text="1.2"/>
        <Label styleClass="windowtext" text="Back bandgap (eV): "/>
        <TextField styleClass="inputfield" fx:id="backbangap" text="1.3"/>
    </HBox>
    
    <VBox>
        <Label styleClass="windowtext" text="Chose the simulated particle:"/>
        <HBox styleClass="hbox" prefWidth="500">
            <RadioButton toggleGroup="$particleselection" text="Electrons" selected="true" fx:id="electronselection" />
            <RadioButton toggleGroup="$particleselection" text="Holes" />
        </HBox>
    </VBox>
    
    <VBox>
        <Label styleClass="windowtext" text="Chose position of x = 0:"/>
        <HBox styleClass="hbox" prefWidth="500">
            <RadioButton toggleGroup="$zeroselection" text="Front" fx:id="zeroatfront" />
            <RadioButton toggleGroup="$zeroselection" text="Back" selected="true" />
        </HBox>
    </VBox>
    
    <HBox styleClass="hbox" prefWidth="500">
        <Label styleClass="windowtext" text="Particle effective mass: "/>
        <TextField styleClass="inputfield" fx:id="effectivemass" text="0.089" prefWidth="300"/>
        <Label styleClass="windowtext" text="*electron mass"/>
    </HBox>
    
    <HBox styleClass="hbox" prefWidth="500">
        <Label styleClass="windowtext" text="Lifetime (ns): "/>
        <TextField styleClass="inputfield" fx:id="lifetime" text="100" prefWidth="300"/>
    </HBox>
    
    <HBox styleClass="hbox" prefWidth="500">
        <Label styleClass="windowtext" text="Number of simulated particle: "/>
        <TextField styleClass="inputfield" fx:id="numbersimulated" text="10000"/>
    </HBox>
    
    <HBox styleClass="hbox" prefWidth="500">
        <Label styleClass="windowtext" text="Folder with the SCAPS gen file: "/>
        <TextField styleClass="inputfield" fx:id="inputFolder" text="/home/audreyazura/Documents/Work/Simulation/SCAPSData"/>
        <Button text="Browse" alignment="center" onAction="#browsingInput"/>
    </HBox>
    
    <HBox styleClass="hbox" prefWidth="500">
        <Label styleClass="windowtext" text="Output folder: "/>
        <TextField styleClass="inputfield" text="/home/audreyazura/Documents/Work/Simulation/SimuResult" fx:id="outputFolder"/>
        <Button text="Browse" alignment="center" onAction="#browsingOutput"/>
    </HBox>
    
    <HBox styleClass="hbox" prefWidth="500" fx:id="startsimubox">
        <Button text="Start simulation" alignment="center" onAction="#startSimulation"/>
    </HBox>
    
</VBox>
